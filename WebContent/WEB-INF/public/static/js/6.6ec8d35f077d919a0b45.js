webpackJsonp([6],{484:function(t,n,e){function i(t){e(612)}var o=e(8)(e(566),e(642),i,"data-v-0854504a",null);t.exports=o.exports},549:function(t,n,e){"use strict";e.d(n,"b",function(){return s}),e.d(n,"d",function(){return u}),e.d(n,"c",function(){return l}),e.d(n,"a",function(){return d});var i=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],o=function(t){return-1!==i.indexOf(t)},r=function(t,n,e){Object.keys(n).filter(o).forEach(function(i){var o=n[i];"function"==typeof o&&("onInit"===i?o(t,e):e.on(i.substring(2),function(t){return o(t,e)}))})},a=function(t,n){var e,i=t.$props.modelEvents?t.$props.modelEvents:null,o=Array.isArray(i)?i.join(" "):i;t.$watch("value",function(t,i){n&&"string"==typeof t&&t!==e&&t!==i&&(n.setContent(t),e=t)}),n.on(o||"change keyup undo redo",function(){e=n.getContent(),t.$emit("input",e)})},s=function(t,n,e){var i=n.$props.value?n.$props.value:"",o=n.$props.initialValue?n.$props.initialValue:"";e.setContent(i||o),n.$listeners.input&&a(n,e),r(t,n.$listeners,e)},c=0,u=function(t){var n=Date.now(),e=Math.floor(1e9*Math.random());return c++,t+"_"+e+c+String(n)},l=function(t){return null!==t&&"textarea"===t.tagName.toLowerCase()},p=function(t){return void 0===t||""===t?[]:Array.isArray(t)?t:t.split(" ")},d=function(t,n){return p(t).concat(p(n))}},551:function(t,n,e){"use strict";e.d(n,"a",function(){return r}),e.d(n,"b",function(){return a});var i=e(549),o=function(t,n,e,i){var o=n.createElement("script");o.type="application/javascript",o.id=t,o.addEventListener("load",i),o.src=e,n.head&&n.head.appendChild(o)},r=function(){return{listeners:[],scriptId:e.i(i.d)("tiny-script"),scriptLoaded:!1}},a=function(t,n,e,i){t.scriptLoaded?i():(t.listeners.push(i),n.getElementById(t.scriptId)||o(t.scriptId,n,e,function(){t.listeners.forEach(function(t){return t()}),t.scriptLoaded=!0}))}},552:function(t,n,e){"use strict";(function(t){e.d(n,"a",function(){return o});var i=function(){return"undefined"!=typeof window?window:t},o=function(){var t=i();return t&&t.tinymce?t.tinymce:null}}).call(n,e(34))},553:function(t,n,e){"use strict";e.d(n,"a",function(){return d});var i=e(551),o=e(552),r=e(549),a=e(554),s=this&&this.__assign||function(){return s=Object.assign||function(t){for(var n,e=1,i=arguments.length;e<i;e++){n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},s.apply(this,arguments)},c=i.a(),u=function(t,n,e){return t(e||"div",{attrs:{id:n}})},l=function(t,n){return t("textarea",{attrs:{id:n},style:{visibility:"hidden"}})},p=function(t){return function(){var n=s({},t.$props.init,{readonly:t.$props.disabled,selector:"#"+t.elementId,plugins:e.i(r.a)(t.$props.init&&t.$props.init.plugins,t.$props.plugins),toolbar:t.$props.toolbar||t.$props.init&&t.$props.init.toolbar,inline:t.inlineEditor,setup:function(n){t.editor=n,n.on("init",function(i){return e.i(r.b)(i,t,n)}),t.$props.init&&"function"==typeof t.$props.init.setup&&t.$props.init.setup(n)}});e.i(r.c)(t.element)&&(t.element.style.visibility=""),e.i(o.a)().init(n)}},d={props:a.a,created:function(){this.elementId=this.$props.id||e.i(r.d)("tiny-vue"),this.inlineEditor=this.$props.init&&this.$props.init.inline||this.$props.inline},watch:{disabled:function(){this.editor.setMode(this.disabled?"readonly":"design")}},mounted:function(){if(this.element=this.$el,null!==e.i(o.a)())p(this)();else if(this.element&&this.element.ownerDocument){var t=this.element.ownerDocument,n=this.$props.cloudChannel?this.$props.cloudChannel:"stable",r=this.$props.apiKey?this.$props.apiKey:"",a="https://cloud.tinymce.com/"+n+"/tinymce.min.js?apiKey="+r;i.b(c,t,a,p(this))}},beforeDestroy:function(){null!==e.i(o.a)()&&e.i(o.a)().remove(this.editor)},render:function(t){return this.inlineEditor?u(t,this.elementId,this.$props.tagName):l(t,this.elementId)}}},554:function(t,n,e){"use strict";e.d(n,"a",function(){return i});var i={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],value:String,disabled:Boolean}},555:function(t,n,e){"use strict";var i=e(553);i.a},566:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e(188),o=e.n(i),r=e(555);n.default={components:{VueTinymce:r.VueTinymce,TinymceSetting:r.TinymceSetting},data:function(){return{show_content1_html:!1,show_content2_html:!1,content1:"<p>可直接粘贴图片地址插入图片</p>",setting1:o()({},r.TinymceSetting,{height:200,language_url:"./static/langs/zh_CN.js",block_formats:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;"}),content2:'<p>Tinymce inlite主题</p><hr><p>这里输入时回车可快速插入选择本地图片和表格 <img src="//img.t.sinajs.cn/t4/appstyle/expression/ext/normal/19/heia_thumb.gif" data-key="[哈哈]"></img></p>',setting2:o()({},r.TinymceSetting,{height:200,language_url:"./static/langs/zh_CN.js",block_formats:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;",menubar:!1,keep_styles:!1,theme:"inlite",inline:!0,invalid_styles:"color font-size",plugins:"image table link paste contextmenu textpattern autolink",insert_toolbar:"quickimage quicktable",selection_toolbar:"bold italic | quicklink h2 h3 blockquote",paste_data_images:!0})}},methods:{getTinymceId:function(t){alert(this.$refs[t].id)},insertImg:function(t,n){var e=n.path,i=n.key;t.undoManager.transact(function(){t.focus(),t.selection.setContent(t.dom.createHTML("img",{src:e,"data-key":i}))})},insertEmotion:function(t,n){this.insertImg(t,{key:n,path:this.emotions[n]})},formatHtml:function(t,n){var e=new tinymce.html.DomParser,i=new tinymce.html.Serializer,o=e.parse(t);return o.getAll("img").map(function(t){var n=t.attr("data-key")||"";if(n.length>0){var e=new tinymce.html.Node("span",1),i=new tinymce.html.Node("#text",3);i.value=n,e.append(i),t.replace(e)}}),i.serialize(o)},restoreHtml:function(t,n){var e=new tinymce.html.DomParser,i=new tinymce.html.Serializer,o=e.parse(t);return o.getAll("#text").map(function(t){var e=n[t.value];if(e){var i=new tinymce.html.Node("img",1);i.attr("data-key",t.value),i.attr("src",e),t.replace(i)}}),i.serialize(o)}}}},589:function(t,n,e){n=t.exports=e(467)(!0),n.push([t.i,".editor-content[data-v-0854504a]{margin-top:20px}.intro-head[data-v-0854504a]{text-align:center;margin:10px}","",{version:3,sources:["E:/project/master/vue-framework-wz/src/views/Tinymce.vue"],names:[],mappings:"AACA,iCACE,eAAiB,CAClB,AACD,6BACI,kBAAmB,AACnB,WAAa,CAChB",file:"Tinymce.vue",sourcesContent:["\n.editor-content[data-v-0854504a]{\r\n  margin-top: 20px;\n}\n.intro-head[data-v-0854504a]{\r\n    text-align: center;\r\n    margin: 10px;\n}\r\n"],sourceRoot:""}])},612:function(t,n,e){var i=e(589);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e(468)("e01a6970",i,!0)},642:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"components-container"},[t._m(0),t._v(" "),e("p",{staticClass:"intro-head"},[t._v("作者的原项目有一些bug，自己改进一个临时的 ")]),t._v(" "),e("Row",{attrs:{gutter:20}},[e("Col",{attrs:{span:12}},[e("vue-tinymce",{ref:"tinymce",attrs:{setting:t.setting1},model:{value:t.content1,callback:function(n){t.content1=n},expression:"content1"}})],1),t._v(" "),e("Col",{attrs:{span:"12"}},[e("vue-tinymce",{ref:"tinymce",attrs:{setting:t.setting2},model:{value:t.content2,callback:function(n){t.content2=n},expression:"content2"}})],1)],1),t._v(" "),e("Row",{attrs:{gutter:20}},[e("Col",{attrs:{span:12}},[e("Button",{attrs:{type:"primary"},on:{click:function(n){t.show_content1_html=!t.show_content1_html}}},[t._v("点击切换显示内容")]),t._v(" "),t.show_content1_html?e("div",[t._v(t._s(t.content1))]):e("div",{domProps:{innerHTML:t._s(t.content1)}})],1),t._v(" "),e("Col",{attrs:{span:12}},[e("Button",{attrs:{type:"primary"},on:{click:function(n){t.show_content2_html=!t.show_content2_html}}},[t._v("点击切换显示内容")]),t._v(" "),t.show_content2_html?e("div",[t._v(t._s(t.content2))]):e("div",{domProps:{innerHTML:t._s(t.content2)}})],1)],1)],1)},staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("h3",{staticClass:"intro-head"},[e("a",{attrs:{href:"https://github.com/lpreterite/vue-tinymce",target:"_blank"}},[t._v("vue-tinymce")])])}]}}});
//# sourceMappingURL=6.6ec8d35f077d919a0b45.js.map